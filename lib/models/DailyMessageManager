import 'dart:math';

class DailyMessageManager {
  // List for empty list state
  static const List<String> emptyStateMessages = [
    "A new day, a new opportunity\n to achieve your goals!âœ¨",
    "Today is a blank canvas â€“ make it\n productive!ğŸš€",
    "No tasks yet! Ready to conquer new challenges?ğŸŒŸ",
    "Set your intentions for the day and\n take the first step!ğŸ¯",
    "Every small step counts. What will you accomplish today?âœ¨",
    "Organize your day, and see\n the magic unfold!ğŸ“…",
    "Great things come to those who plan.\n Start adding your tasks!ğŸ’¡",
    "A goal without a plan is just\n a wish. Start planning!ğŸŒŸ",
    "Donâ€™t wait for inspiration. Start\n planning and watch it come!ğŸš€",
  ];

  // List for complete list state
  static const List<String> completionMessages = [
    "Awesome job! You've conquered your\n to-do list today! ğŸŒŸ",
    "Way to go! Every task is completed.\n Keep up the great work! ğŸ‰",
    "You did it! Take a break,\n you've earned it. âœ¨",
    "Mission accomplished! You're unstoppable! ğŸš€",
    "All tasks completed! Time\n to relax and recharge. ğŸ†",
    "Great job! You've been super\n productive today. ğŸˆ",
    "Excellent! Every task is ticked\n off. Keep this momentum going! ğŸ’ª",
    "Fantastic work! Enjoy some free\n time, you've earned it! ğŸŒˆ",
    "Brilliant effort! You've completed\n everything for today! ğŸ™Œ",
    "Amazing! Your to-do list is\n empty. Relax and enjoy your success! ğŸŠ",
    "Success! You've wrapped up all your \ntasks. Keep it going! ğŸ¯",
    "Wonderful! You've achieved all\n your goals for today. ğŸŒŸ",
    "Outstanding! All tasks done and\n dusted. Keep shining! ğŸ”¥",
    "Phenomenal! You rocked your to-do\n list. Take a well-deserved break. ğŸ’¼",
    "You nailed it! No tasks left, you've\n been productive! ğŸ¥³",
    "Victory! You've completed every task\n on your list. Great job! ğŸ…",
    "Unstoppable! You've checked off\n everything for today. Celebrate! ğŸ‰",
    "Champion! All tasks are done. You're on a roll! ğŸ¥‡",
    "Incredible! Every single task is \ncompleted. Enjoy the day! ğŸŒ",
    "Youâ€™re a superstar! No tasks left.\n Keep being awesome! ğŸŒŸ"
  ];

  /// Returns a consistent message for the day based on the provided list.
  static String getFixedMessageForDay(List<String> messages) {
    final today = DateTime.now();
    final dateKey = "${today.year}-${today.month}-${today.day}"; // Unique key for the day
    final hash = dateKey.hashCode; // Generate a hash based on the date
    final random = Random(hash); // Use the hash as a seed
    final index = random.nextInt(messages.length); // Consistent random index
    return messages[index];
  }

  /// Returns the appropriate message for the current day based on task completion.
  static String getDayMessage(List<Map<String, dynamic>> tasks) {
    if (tasks.isEmpty) {
      return getFixedMessageForDay(emptyStateMessages);
    } else if (tasks.every((task) => task['completed'] == true)) {
      return getFixedMessageForDay(completionMessages);
    } else {
      return "Keep pushing forward! You're doing great! ğŸš€";
    }
  }
}
